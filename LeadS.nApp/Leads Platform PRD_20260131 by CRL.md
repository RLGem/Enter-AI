# ğŸ¯ Leads Platform - PRD ××œ×

## ×¤×œ×˜×¤×•×¨××ª ×œ×™×“×™× ×œ×¢×¡×§×™× ×™×©×¨××œ×™×™×

### ğŸ’¡ ××¨×¢×™×•×Ÿ ×œ×œ×§×•×— ××©×œ×: ×—×™×‘×•×¨ ×‘×™×Ÿ ××¤×œ×™×§×¦×™×•×ª AI ×œ×¢×¡×§×™× ××§×•××™×™×

*×’×¨×¡×” 1.0 | 31 ×‘×™× ×•××¨ 2026*

---

**ğŸ“š ××¡××š ××§×™×£ | ğŸ¯ ××•×›×Ÿ ×œ×¤×™×ª×•×—**

---

## ğŸ“‹ ×ª×•×›×Ÿ ×¢× ×™×™× ×™×

| # | × ×•×©× | ×ª×™××•×¨ |
|:-:|:-----|:------|
| 1 | ×¡×§×™×¨×” ×›×œ×œ×™×ª | ×”×—×–×•×Ÿ, ×”×‘×¢×™×”, ×”×¤×ª×¨×•×Ÿ |
| 2 | ××¨×›×™×˜×§×˜×•×¨×” | ××‘× ×” ×”××¢×¨×›×ª ×•×”×–×¨×™××•×ª |
| 3 | ×‘×¡×™×¡ × ×ª×•× ×™ ×¢×¡×§×™× | ×¡×¨×™×§×”, ×’×™×•×¡, ×¨×™×©×•× |
| 4 | ××•×“×œ ×”×ª×©×œ×•××™× | Prepaid, Pay-per-lead, ××“×™× ×™×•×ª |
| 5 | AI Matching | ×”×ª×××ª ×œ×™×“×™× ×œ×¢×¡×§×™× |
| 6 | Partner API | ×××©×§ ×œ××¤×œ×™×§×¦×™×•×ª AI |
| 7 | ×¤×•×¨×˜×œ ×¢×¡×§×™× | ×××©×§ ×œ×¢×¡×§×™× |
| 8 | Database Schema | ××‘× ×” ×‘×¡×™×¡ ×”× ×ª×•× ×™× |
| 9 | ×¡×¤×§×™ ×ª×©×œ×•× | ××™× ×˜×’×¨×¦×™×•×ª ×™×©×¨××œ×™×•×ª |
| 10 | ××•×“×œ ×¢×¡×§×™ | ×ª××—×•×¨ ×•×”×›× ×¡×•×ª |
| 11 | Roadmap | ×ª×•×›× ×™×ª ×¤×™×ª×•×— |

---

# 1ï¸âƒ£ ×¡×§×™×¨×” ×›×œ×œ×™×ª

## ğŸ¯ ×”×—×–×•×Ÿ

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                                            â”‚
â”‚   ××¤×œ×™×§×¦×™×•×ª AI        Leads Platform        ×¢×¡×§×™× ××§×•××™×™× â”‚
â”‚   â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€       â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€       â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚
â”‚                                                            â”‚
â”‚   Event.nApp    â”€â”                      â”Œâ”€  ×¦×œ× ×—×ª×•× ×•×ª    â”‚
â”‚                  â”‚                      â”‚                  â”‚
â”‚   Restaurant.nAppâ”œâ”€â”€â–º  ğŸ¯ Matching  â—„â”€â”€â”€â”¤  ××¡×¢×“×”          â”‚
â”‚                  â”‚                      â”‚                  â”‚
â”‚   Travel.nApp   â”€â”˜                      â””â”€  ××œ×•×Ÿ          â”‚
â”‚                                                            â”‚
â”‚   ×”××©×ª××© ××§×‘×œ      ×”×¤×œ×˜×¤×•×¨××” ××ª××™××”      ×”×¢×¡×§ ××§×‘×œ        â”‚
â”‚   ×”××œ×¦×” ××“×•×™×§×ª     ×•××ª×•×•×›×ª              ×œ×™×“ ×—× ×•××©×œ×      â”‚
â”‚                                                            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ˜¤ ×”×‘×¢×™×”

### ××¦×“ ××¤×œ×™×§×¦×™×•×ª AI:
- ×™×© ×œ×”×Ÿ ××©×ª××©×™× ×©××—×¤×©×™× ×©×™×¨×•×ª×™×
- ××™×Ÿ ×œ×”×Ÿ ×“×¨×š ×œ×”×¨×•×•×™×— ××”×”××œ×¦×•×ª
- ××™×Ÿ ×‘×¡×™×¡ × ×ª×•× ×™× ×©×œ ×¢×¡×§×™× ××§×•××™×™×

### ××¦×“ ×¢×¡×§×™× ××§×•××™×™×:
- ××©×œ××™× ×”×¨×‘×” ×¢×œ ×¤×¨×¡×•× (Google, Facebook)
- ×œ× ×™×•×“×¢×™× ××” ×¢×•×‘×“
- ×œ×™×“×™× ×§×¨×™× ×•×œ× ×××•×§×“×™×

## ğŸ’¡ ×”×¤×ª×¨×•×Ÿ

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Leads Platform = Marketplace ×œ×™×“×™×                        â”‚
â”‚                                                            â”‚
â”‚ â€¢ ××¤×œ×™×§×¦×™×•×ª AI ×©×•×œ×—×•×ª ×œ×™×“×™× ×“×¨×š API                       â”‚
â”‚ â€¢ ×”×¤×œ×˜×¤×•×¨××” ××ª××™××” ×œ×™×“ ×œ×¢×¡×§ ×”× ×›×•×Ÿ                         â”‚
â”‚ â€¢ ×”×¢×¡×§ ××©×œ× ×¨×§ ×¢×œ ×œ×™×“×™× ×©××¢× ×™×™× ×™× ××•×ª×•                    â”‚
â”‚ â€¢ ×”××¤×œ×™×§×¦×™×” ××§×‘×œ×ª 70% ××”×”×›× ×¡×”                             â”‚
â”‚ â€¢ ×”×¤×œ×˜×¤×•×¨××” ××§×‘×œ×ª 30%                                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ† ×™×ª×¨×•× ×•×ª ×ª×—×¨×•×ª×™×™×

| ×œ×¢×•××ª | ×”×™×ª×¨×•×Ÿ ×©×œ× ×• |
|:------|:-----------|
| Google Ads | ×œ×™×“×™× ×—××™×, ×œ× ×§×œ×™×§×™× |
| Facebook Ads | ×”×ª×××” ××“×•×™×§×ª ×¢"×™ AI |
| ×“×¤×™ ×–×”×‘ | ××©×œ× ×¨×§ ×¢×œ ×œ×™×“, ×œ× ×¢×œ ×—×©×™×¤×” |
| Angi/Thumbtack | ×××•×§×“ ×œ×©×•×§ ×”×™×©×¨××œ×™ |

---

# 2ï¸âƒ£ ××¨×›×™×˜×§×˜×•×¨×”

## ğŸ—ï¸ ××‘× ×” ×”××¢×¨×›×ª

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                                                             â”‚
â”‚                           LEADS PLATFORM                                    â”‚
â”‚                                                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”            â”‚
â”‚  â”‚   Partner API   â”‚  â”‚  Business Portal â”‚  â”‚   Admin Panel   â”‚            â”‚
â”‚  â”‚   (×œ××¤×œ×™×§×¦×™×•×ª)  â”‚  â”‚    (×œ×¢×¡×§×™×)      â”‚  â”‚    (×œ× ×•)        â”‚            â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜            â”‚
â”‚           â”‚                    â”‚                    â”‚                      â”‚
â”‚           â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                      â”‚
â”‚                                â”‚                                           â”‚
â”‚                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                              â”‚
â”‚                    â”‚     Core Services      â”‚                              â”‚
â”‚                    â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚                              â”‚
â”‚                    â”‚  â”‚  Lead Router    â”‚  â”‚  â† ×”×ª×××ª ×œ×™×“ ×œ×¢×¡×§           â”‚
â”‚                    â”‚  â”‚  AI Matching    â”‚  â”‚  â† ×—×™×¤×•×© ×¡×× ×˜×™              â”‚
â”‚                    â”‚  â”‚  Payment Engine â”‚  â”‚  â† ×—×™×•×‘×™× ×•×”×—×–×¨×™×           â”‚
â”‚                    â”‚  â”‚  Notification   â”‚  â”‚  â† Email, SMS, WhatsApp     â”‚
â”‚                    â”‚  â”‚  Scraper        â”‚  â”‚  â† ×¡×¨×™×§×ª ×¢×¡×§×™×              â”‚
â”‚                    â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚                              â”‚
â”‚                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                              â”‚
â”‚                                â”‚                                           â”‚
â”‚                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                              â”‚
â”‚                    â”‚      Database          â”‚                              â”‚
â”‚                    â”‚  â”Œâ”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”  â”‚                              â”‚
â”‚                    â”‚  â”‚Part-â”‚Busi-â”‚Leadsâ”‚  â”‚                              â”‚
â”‚                    â”‚  â”‚ners â”‚ness â”‚     â”‚  â”‚                              â”‚
â”‚                    â”‚  â””â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”˜  â”‚                              â”‚
â”‚                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                              â”‚
â”‚                                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ”„ ×–×¨×™××ª ×œ×™×“ ××œ××”

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                                                             â”‚
â”‚  1. USER                    2. AI APP                   3. PLATFORM         â”‚
â”‚  â”€â”€â”€â”€â”€â”€                     â”€â”€â”€â”€â”€â”€â”€â”€                    â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€          â”‚
â”‚  "×× ×™ ××—×¤×© ×¦×œ×             Event.nApp ××•×¡×£             API ××§×‘×œ ×œ×™×“        â”‚
â”‚   ×œ×—×ª×•× ×” ×‘×¨×¢× × ×”"           ×¤×¨×˜×™× ×•×©×•×œ×— ×œ×™×“             ×•××¤×¢×™×œ Matching      â”‚
â”‚                                                                             â”‚
â”‚       â”‚                         â”‚                           â”‚               â”‚
â”‚       â–¼                         â–¼                           â–¼               â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”                 â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”          â”‚
â”‚  â”‚  User   â”‚â”€â”€â–º×©××œ×•×ªâ”€â”€â–º   â”‚ Event   â”‚â”€â”€â–ºAPI Callâ”€â”€â–º   â”‚ Leads   â”‚          â”‚
â”‚  â”‚  Chat   â”‚              â”‚  .nApp  â”‚                 â”‚Platform â”‚          â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                 â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜          â”‚
â”‚                                                            â”‚               â”‚
â”‚                                                            â–¼               â”‚
â”‚  4. MATCHING               5. BUSINESS                6. CONVERSION        â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€               â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                 â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€          â”‚
â”‚  ××•×¦× 3 ×¦×œ××™×              ×¦×œ× ×¢× ×™×ª×¨×” ××§×‘×œ          ×¦×œ× ×™×•×¦×¨ ×§×©×¨          â”‚
â”‚  ××ª××™××™× ×‘××–×•×¨             ×”×•×“×¢×” + ×¤×¨×˜×™ ×œ×™×“          ×¢× ×”×œ×§×•×—              â”‚
â”‚                                                                             â”‚
â”‚       â”‚                         â”‚                           â”‚               â”‚
â”‚       â–¼                         â–¼                           â–¼               â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”                 â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”          â”‚
â”‚  â”‚   AI    â”‚â”€â”€â–º×‘×—×™×¨×”â”€â”€â–º   â”‚Business â”‚â”€â”€â–ºContactâ”€â”€â–º    â”‚  Deal   â”‚          â”‚
â”‚  â”‚ Match   â”‚              â”‚ Portal  â”‚                 â”‚ Closed  â”‚          â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                 â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â”‚
â”‚                                                                             â”‚
â”‚  7. REVENUE                                                                 â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€                                                                  â”‚
â”‚  ×—×™×•×‘ â‚ª40 ××™×ª×¨×ª ×”×¢×¡×§                                                       â”‚
â”‚  â‚ª28 â†’ Event.nApp                                                          â”‚
â”‚  â‚ª12 â†’ Platform                                                            â”‚
â”‚                                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

# 3ï¸âƒ£ ×‘×¡×™×¡ × ×ª×•× ×™ ×¢×¡×§×™×

## ğŸ¯ ×”××¡×˜×¨×˜×’×™×”

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                                            â”‚
â”‚  Phase 1: Bootstrap        Phase 2: Scale                 â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€         â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                 â”‚
â”‚  50-100 ×¢×¡×§×™× ×™×“× ×™×ª        ×¡×¨×™×§×” + Outreach              â”‚
â”‚  ×™×—×¡ ××™×©×™                  ××•×˜×•××¦×™×”                       â”‚
â”‚  ×œ×™××•×“ ××” ×¢×•×‘×“             Volume                         â”‚
â”‚                                                            â”‚
â”‚  Phase 3: Viral                                           â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                                           â”‚
â”‚  ×¢×¡×§×™× ××‘×™××™× ×¢×¡×§×™×                                       â”‚
â”‚  "×”×¤× ×” ×•×§×‘×œ 3 ×œ×™×“×™× ×—×™× ×"                                 â”‚
â”‚                                                            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ” ××§×•×¨×•×ª ×œ×¡×¨×™×§×”

### ××§×•×¨×•×ª ×¨××©×™×™×:

| ××§×•×¨ | ××” ××§×‘×œ×™× | ×¢×œ×•×ª |
|:-----|:----------|:-----|
| **Google Places API** | ×©×, ×›×ª×•×‘×ª, ×˜×œ×¤×•×Ÿ, ××ª×¨, ×“×™×¨×•×’ | $200 ×—×™× ××™/×—×•×“×© (~6,000 ×¢×¡×§×™×) |
| **Facebook Pages** | ×¢×¡×§×™× ×¢× ×¢××•×“×™× | ×—×™× ××™ (×¡×¨×™×§×”) |
| **Instagram Business** | ×¢×¡×§×™× ×•×™×–×•××œ×™×™× | ×—×™× ××™ (×¡×¨×™×§×”) |
| **×“×¤×™ ×–×”×‘ (d.co.il)** | ×××’×¨ ×™×©×¨××œ×™ | ×—×™× ××™ (×¡×¨×™×§×”) |

### ××§×•×¨×•×ª ×¡×§×˜×•×¨×™××œ×™×™×:

| ×ª×—×•× | ××ª×¨×™× |
|:-----|:------|
| ×—×ª×•× ×•×ª | WeddingMarket, EasyEvent, Storelove |
| ××¡×¢×“×•×ª | Rest.co.il, 2eat, TripAdvisor |
| ×ª×™×™×¨×•×ª | Booking, Hotels.co.il |
| ×‘×¢×œ×™ ××§×¦×•×¢ | Drivimo, HomeRepair |

## ğŸ“§ ×ª×”×œ×™×š ×’×™×•×¡ ×¢×¡×§×™×

### ×©×œ×‘ 1: ×¡×¨×™×§×”

```typescript
// Google Places API - ×—×™×¤×•×© ×¢×¡×§×™×
async function scrapeBusinesses(category: string, location: string) {
  const response = await fetch(
    `https://maps.googleapis.com/maps/api/place/textsearch/json?` +
    `query=${encodeURIComponent(category)}+${encodeURIComponent(location)}&` +
    `key=${GOOGLE_API_KEY}&language=he`
  );
  
  const { results } = await response.json();
  
  for (const place of results) {
    // ×§×‘×œ ×¤×¨×˜×™× × ×•×¡×¤×™×
    const details = await getPlaceDetails(place.place_id);
    
    await db.scraped_businesses.create({
      data: {
        google_place_id: place.place_id,
        name: place.name,
        address: place.formatted_address,
        phone: details.formatted_phone_number,
        website: details.website,
        email: extractEmailFromWebsite(details.website), // ×¡×¨×™×§×ª ×”××ª×¨
        rating: place.rating,
        reviews_count: place.user_ratings_total,
        category: category,
        location: location,
        source: 'google_places',
        status: 'scraped', // ×××ª×™×Ÿ ×œ×¤× ×™×™×”
        scraped_at: new Date()
      }
    });
  }
}
```

### ×©×œ×‘ 2: ×©×œ×™×—×ª ×”×–×× ×”

```markdown
**× ×•×©×:** ğŸ¯ ×œ×™×“×™× ×—××™× ×œ×¢×¡×§ ×©×œ×š - ×‘×œ×™ ××××¥

×”×™×™ [×©× ×”×¢×¡×§],

×× ×™ ×‘×•× ×” ×¤×œ×˜×¤×•×¨××” ×©××—×‘×¨×ª ×‘×™×Ÿ ×× ×©×™× ×©××—×¤×©×™× 
[×§×˜×’×•×¨×™×”] ×œ×‘×™×Ÿ ×¢×¡×§×™× ×›××•×š.

**××™×š ×–×” ×¢×•×‘×“:**
1. ××ª×” ××ª××¨ ××ª ×”×¢×¡×§ ×©×œ×š (2 ×“×§×•×ª)
2. ×× ×—× ×• ×©×•×œ×—×™× ×œ×š ×œ×™×“×™× ×¨×œ×•×•× ×˜×™×™×
3. ××ª×” ××©×œ× ×¨×§ ×¢×œ ×œ×™×“×™× ×©××¢× ×™×™× ×™× ××•×ª×š

ğŸ **5 ×œ×™×“×™× ×¨××©×•× ×™× - ×—×™× ×!**

[×›×¤×ª×•×¨: ×œ×”×¦×˜×¨×¤×•×ª â†’]

---
×œ×”×¡×¨×” ××¨×©×™××ª ×”×ª×¤×•×¦×”: [×œ×™× ×§]
```

### ×©×œ×‘ 3: ×¨×™×©×•× ×¤×©×•×˜

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸ“ ×¡×¤×¨ ×œ× ×• ×¢×œ ×”×¢×¡×§ ×©×œ×š                                   â”‚
â”‚                                                            â”‚
â”‚ ×©× ×”×¢×¡×§: [________________]                               â”‚
â”‚                                                            â”‚
â”‚ ×ª××¨ ××ª ×”×©×™×¨×•×ª×™× ×©×œ×š ×‘×›××” ××©×¤×˜×™×:                         â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚ â”‚                                                      â”‚  â”‚
â”‚ â”‚  (×˜×§×¡×˜ ×—×•×¤×©×™ - ×”-AI ×™×¤×¨×¡×¨)                          â”‚  â”‚
â”‚ â”‚                                                      â”‚  â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                            â”‚
â”‚ ×˜×œ×¤×•×Ÿ: [________________]                                 â”‚
â”‚ ××™××™×™×œ: [________________]                                â”‚
â”‚                                                            â”‚
â”‚ [×©×œ×— ×•×ª×ª×—×™×œ ×œ×§×‘×œ ×œ×™×“×™× ğŸš€]                               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### ×©×œ×‘ 4: AI Parsing

```typescript
async function parseBusinessDescription(description: string) {
  const prompt = `
    × ×ª×— ××ª ×ª×™××•×¨ ×”×¢×¡×§ ×”×‘× ×•×—×œ×¥ ××™×“×¢ ××•×‘× ×”:
    
    "${description}"
    
    ×”×—×–×¨ JSON ×¢×:
    - categories: ×¨×©×™××ª ×§×˜×’×•×¨×™×•×ª (photography, weddings, events, etc.)
    - services: ×¨×©×™××ª ×©×™×¨×•×ª×™× ×¡×¤×¦×™×¤×™×™×
    - areas: ××–×•×¨×™× ×’×™××•×’×¨×¤×™×™×
    - price_range: { min, max, currency, unit } (×× ×¦×•×™×Ÿ)
    - keywords: ××™×œ×•×ª ××¤×ª×— ×œ×—×™×¤×•×©
  `;
  
  const response = await llm.complete(prompt);
  return JSON.parse(response);
}

// ×“×•×’××ª Input:
// "×× ×—× ×• ×¡×˜×•×“×™×• ×œ×¦×™×œ×•× ××™×¨×•×¢×™× - ×—×ª×•× ×•×ª, ×‘×¨ ××¦×•×•×ª, 
//  ××™×¨×•×¢×™ ×—×‘×¨×”. ××ª××—×™× ×‘×¡×’× ×•×Ÿ ×˜×‘×¢×™ ×•×“×•×§×•×× ×˜×¨×™. 
//  ×¢×•×‘×“×™× ×‘×›×œ ××–×•×¨ ×”××¨×›×– ×•×”×©×¨×•×Ÿ. 
//  ××—×™×¨×™×: 5,000-15,000 ×©"×— ×œ××™×¨×•×¢."

// ×“×•×’××ª Output:
{
  "categories": ["photography", "events", "weddings", "bar_mitzvah", "corporate"],
  "services": ["×¦×™×œ×•× ×—×ª×•× ×•×ª", "×¦×™×œ×•× ×‘×¨ ××¦×•×•×”", "×¦×™×œ×•× ××™×¨×•×¢×™ ×—×‘×¨×”"],
  "areas": ["××¨×›×–", "×”×©×¨×•×Ÿ"],
  "price_range": { "min": 5000, "max": 15000, "currency": "ILS", "unit": "event" },
  "keywords": ["×¦×™×œ×•×", "×¡×˜×•×“×™×•", "×˜×‘×¢×™", "×“×•×§×•×× ×˜×¨×™", "××™×¨×•×¢×™×"]
}
```

## ğŸ“Š ×¡×˜×˜×™×¡×˜×™×§×•×ª ×¦×¤×•×™×•×ª

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸ“ˆ ×ª×—×–×™×ª ×’×™×•×¡ ×¢×¡×§×™×:                                      â”‚
â”‚                                                            â”‚
â”‚ Cold Email Response Rate: 0.5-1%                          â”‚
â”‚                                                            â”‚
â”‚ Phase 1 (×—×•×“×© 1-2):                                       â”‚
â”‚ â€¢ 100 ×¢×¡×§×™× ×™×“× ×™×ª â†’ 30-50 × ×¨×©××™×                         â”‚
â”‚                                                            â”‚
â”‚ Phase 2 (×—×•×“×© 3-6):                                       â”‚
â”‚ â€¢ 10,000 emails â†’ 50-100 × ×¨×©××™×                          â”‚
â”‚ â€¢ ×¢×¡×§×™× ×××œ×™×¦×™× â†’ +50                                    â”‚
â”‚ â€¢ ×¡×”"×›: 150-200 ×¢×¡×§×™×                                    â”‚
â”‚                                                            â”‚
â”‚ Phase 3 (×—×•×“×© 6-12):                                      â”‚
â”‚ â€¢ Viral + Referrals â†’ 500-1,000 ×¢×¡×§×™×                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

# 4ï¸âƒ£ ××•×“×œ ×”×ª×©×œ×•××™×

## ğŸ’° ×¡×•×’×™ ××•×“×œ×™×

### ××•×“×œ 1: Prepaid Credits (××•××œ×¥ ×›×¢×™×§×¨×™)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸ’³ Prepaid Credits                                        â”‚
â”‚                                                            â”‚
â”‚ ××™×š ×–×” ×¢×•×‘×“:                                              â”‚
â”‚ 1. ×¢×¡×§ ××¤×§×™×“ â‚ª500                                         â”‚
â”‚ 2. ×œ×™×“ × ×›× ×¡ ×•××ª××™× â†’ × ×©×œ×— ××•×˜×•××˜×™×ª                       â”‚
â”‚ 3. ×™×ª×¨×” ×™×•×¨×“×ª: â‚ª500 - â‚ª40 = â‚ª460                         â”‚
â”‚ 4. ×”×ª×¨××” ×›×©×™×ª×¨×” × ××•×›×”                                     â”‚
â”‚                                                            â”‚
â”‚ ×™×ª×¨×•× ×•×ª:                                                  â”‚
â”‚ âœ… ××¡×™×¨×ª ×œ×™×“ ××™×™×“×™×ª (×©× ×™×•×ª)                              â”‚
â”‚ âœ… ××™×Ÿ ×—×™×›×•×š ×‘×›×œ ×œ×™×“                                      â”‚
â”‚ âœ… ×”×¢×¡×§ ××—×•×™×‘ = ×¨×¦×™× ×™                                     â”‚
â”‚ âœ… ×”×›× ×¡×” ×¦×¤×•×™×” ×œ×¤×œ×˜×¤×•×¨××”                                  â”‚
â”‚                                                            â”‚
â”‚ ×‘×•× ×•×¡×™× ×œ×”×¤×§×“×”:                                           â”‚
â”‚ â€¢ â‚ª500 â†’ â‚ª550 (10% ×‘×•× ×•×¡)                                â”‚
â”‚ â€¢ â‚ª1,000 â†’ â‚ª1,200 (20% ×‘×•× ×•×¡)                            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### ××•×“×œ 2: Pay-Per-Lead (××©× ×™/×’×™×‘×•×™)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸ’µ Pay-Per-Lead                                           â”‚
â”‚                                                            â”‚
â”‚ ××™×š ×–×” ×¢×•×‘×“:                                              â”‚
â”‚ 1. ×œ×™×“ × ×›× ×¡ ×•××ª××™×                                        â”‚
â”‚ 2. ×¢×¡×§ ××§×‘×œ ×”×•×“×¢×”: "×™×© ×œ×™×“ ×—×“×©!"                         â”‚
â”‚ 3. ×¢×¡×§ ××©×œ× â‚ª40 ×›×“×™ ×œ×§×‘×œ ×¤×¨×˜×™×                           â”‚
â”‚ 4. 30 ×“×§×•×ª ×œ×©×œ×, ××—×¨×ª ×¢×•×‘×¨ ×œ×¢×¡×§ ×”×‘×                      â”‚
â”‚                                                            â”‚
â”‚ ×™×ª×¨×•× ×•×ª:                                                  â”‚
â”‚ âœ… ×’××™×©×•×ª ××œ××” ×œ×¢×¡×§                                       â”‚
â”‚ âœ… ××™×Ÿ ×¡×™×›×•×Ÿ ×œ×”×¤×§×“×”                                       â”‚
â”‚                                                            â”‚
â”‚ ×—×¡×¨×•× ×•×ª:                                                  â”‚
â”‚ âŒ ××™×˜×™ (×¦×¨×™×š ×œ×—×›×•×ª ×œ×ª×©×œ×•×)                               â”‚
â”‚ âŒ ×œ×™×“ ×™×›×•×œ ×œ×”×ª×§×¨×¨                                        â”‚
â”‚ âŒ ×—×™×›×•×š ×‘×›×œ ×¤×¢×                                          â”‚
â”‚                                                            â”‚
â”‚ ×©×™××•×©: ×œ×¢×¡×§×™× ×©××”×¡×¡×™× ×œ×”×¤×§×™×“                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### ××•×“×œ 3: Subscription (××•×¤×¦×™×•× ×œ×™)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸ“… Subscription                                           â”‚
â”‚                                                            â”‚
â”‚ Basic: â‚ª199/×—×•×“×©                                          â”‚
â”‚ â€¢ 5 ×œ×™×“×™× ×›×œ×•×œ×™×                                          â”‚
â”‚ â€¢ â‚ª45 ×œ×›×œ ×œ×™×“ × ×•×¡×£                                       â”‚
â”‚                                                            â”‚
â”‚ Business: â‚ª499/×—×•×“×©                                       â”‚
â”‚ â€¢ 15 ×œ×™×“×™× ×›×œ×•×œ×™×                                         â”‚
â”‚ â€¢ â‚ª35 ×œ×›×œ ×œ×™×“ × ×•×¡×£                                       â”‚
â”‚ â€¢ ×¢×“×™×¤×•×ª ×‘-Matching                                       â”‚
â”‚                                                            â”‚
â”‚ Premium: â‚ª999/×—×•×“×©                                        â”‚
â”‚ â€¢ ×œ×™×“×™× ×œ×œ× ×”×’×‘×œ×”                                         â”‚
â”‚ â€¢ â‚ª25 ×œ×›×œ ×œ×™×“                                            â”‚
â”‚ â€¢ ×‘×œ×¢×“×™×•×ª ×‘××–×•×¨                                          â”‚
â”‚                                                            â”‚
â”‚ ×©×™××•×©: ×œ×¢×¡×§×™× ×’×“×•×œ×™× ×¢× Volume ×§×‘×•×¢                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ”„ ××•×“×œ Hybrid (×”××•××œ×¥)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸ¯ ×”×’×™×©×” ×”××©×•×œ×‘×ª:                                         â”‚
â”‚                                                            â”‚
â”‚ ×¢×¡×§ ×—×“×©:                                                  â”‚
â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                                                 â”‚
â”‚ 1. × ×¨×©× â†’ ××§×‘×œ 3-5 ×œ×™×“×™× ×—×™× × (Trial)                    â”‚
â”‚ 2. ×× ××¨×•×¦×” â†’ ×‘×•×—×¨ ××¡×œ×•×œ:                                â”‚
â”‚    â€¢ Prepaid (××•××œ×¥, ×¢× ×‘×•× ×•×¡)                           â”‚
â”‚    â€¢ Pay-per-lead (×‘×œ×™ ×‘×•× ×•×¡)                            â”‚
â”‚                                                            â”‚
â”‚ ×œ×•×’×™×§×ª ×©×œ×™×—×ª ×œ×™×“:                                         â”‚
â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                                       â”‚
â”‚ Priority 1: ×¢×¡×§×™× ×¢× ×™×ª×¨×” â†’ ×œ×™×“ × ×©×œ×— ××™×™×“×™×ª             â”‚
â”‚ Priority 2: ×¢×¡×§×™× ×‘×œ×™ ×™×ª×¨×” â†’ ×”×¦×¢×” ×œ×©×œ× (30 ×“×§×•×ª)        â”‚
â”‚ Priority 3: ×¢×¡×§ ×œ× ×©×™×œ× â†’ ×œ×™×“ ×¢×•×‘×¨ ×œ×‘× ×‘×ª×•×¨             â”‚
â”‚                                                            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ“‹ ××“×™× ×™×•×ª ×™×ª×¨×•×ª ×•×”×—×–×¨×™×

### ×ª× ××™ ×©×™××•×©:

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ âš–ï¸ ××“×™× ×™×•×ª ×™×ª×¨×•×ª:                                         â”‚
â”‚                                                            â”‚
â”‚ ×ª×•×§×£ ×”×™×ª×¨×”:                                               â”‚
â”‚ â€¢ ×™×ª×¨×” ×ª×§×¤×” ×œ-12 ×—×•×“×©×™× ××™×•× ×”×”×¤×§×“×”                      â”‚
â”‚ â€¢ ×”×ª×¨××•×ª: 90, 30, 7 ×™××™× ×œ×¤× ×™ ×¤×§×™×¢×”                      â”‚
â”‚                                                            â”‚
â”‚ ×œ×¤× ×™ ×¤×§×™×¢×” - ××¤×©×¨×•×™×•×ª:                                    â”‚
â”‚ â€¢ ×”×¨×—×‘ ××–×•×¨ ×’×™××•×’×¨×¤×™                                      â”‚
â”‚ â€¢ ×”×•×¡×£ ×§×˜×’×•×¨×™×•×ª/×©×™×¨×•×ª×™×                                   â”‚
â”‚ â€¢ ×”×•×¨×“ ××—×™×¨ ××§×¡×™××œ×™ ×œ×œ×™×“                                  â”‚
â”‚ â€¢ ×”×¢×‘×¨ ×œ×¢×¡×§ ××—×¨ ×‘××•×ª×• ×—×©×‘×•×Ÿ                               â”‚
â”‚                                                            â”‚
â”‚ ×”×—×–×¨ ×›×¡×¤×™:                                                â”‚
â”‚ âŒ ××™×Ÿ ×”×—×–×¨ ×¢×œ ×™×ª×¨×” ×©×¤×’×”                                  â”‚
â”‚ âœ… ×”×—×–×¨ ××œ× ×¨×§ ×‘: ×ª×§×œ×” ×˜×›× ×™×ª / ×¡×’×™×¨×ª ×©×™×¨×•×ª / ×˜×¢×•×ª ×—×™×•×‘  â”‚
â”‚                                                            â”‚
â”‚ Premium (×ª×•×¡×¤×ª 10%):                                      â”‚
â”‚ â€¢ ×¢×¨×‘×•×ª: ××™× ×™××•× 5 ×œ×™×“×™× ×‘×©× ×”                            â”‚
â”‚ â€¢ ×œ× ×§×™×‘×œ? ×”×—×–×¨ ××œ× ×¢×œ ×”×™×ª×¨×”                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### ×”×ª×¨××•×ª ××•×˜×•××˜×™×•×ª:

```typescript
// Cron Jobs ×œ× ×™×”×•×œ ×™×ª×¨×•×ª

// 1. ×”×ª×¨××ª ×™×ª×¨×” × ××•×›×”
async function alertLowBalance() {
  const businesses = await db.businesses.findMany({
    where: { credit_balance: { lt: 100, gt: 0 } }
  });
  
  for (const biz of businesses) {
    await sendNotification(biz, {
      type: 'low_balance',
      message: `×”×™×ª×¨×” ×©×œ×š ×¢×•××“×ª ×¢×œ â‚ª${biz.credit_balance}. ×”×¤×§×“ ×¢×›×©×™×• ×•×§×‘×œ 10% ×‘×•× ×•×¡!`
    });
  }
}

// 2. ×”×ª×¨××ª ×¤×§×™×¢×” ×§×¨×‘×”
async function alertExpiringBalance() {
  const threeMonthsFromNow = addMonths(new Date(), 3);
  
  const businesses = await db.businesses.findMany({
    where: {
      credit_balance: { gt: 0 },
      balance_expires_at: { lte: threeMonthsFromNow }
    }
  });
  
  for (const biz of businesses) {
    const daysLeft = differenceInDays(biz.balance_expires_at, new Date());
    await sendNotification(biz, {
      type: 'expiring_balance',
      message: `×”×™×ª×¨×” ×©×œ×š (â‚ª${biz.credit_balance}) ×ª×¤×•×’ ×‘×¢×•×“ ${daysLeft} ×™××™×. ×”×¨×—×‘ ×§×¨×™×˜×¨×™×•× ×™× ××• ×”×©×ª××©!`
    });
  }
}

// 3. ×”×ª×¨××ª ×—×•×¡×¨ ×¤×¢×™×œ×•×ª
async function alertInactiveBusinesses() {
  const sixtyDaysAgo = subDays(new Date(), 60);
  
  const inactive = await db.businesses.findMany({
    where: {
      credit_balance: { gt: 0 },
      last_lead_received_at: { lt: sixtyDaysAgo }
    }
  });
  
  for (const biz of inactive) {
    await sendNotification(biz, {
      type: 'no_leads',
      message: `×œ× ×§×™×‘×œ×ª ×œ×™×“×™× ×‘-60 ×”×™××™× ×”××—×¨×•× ×™×. ×”× ×” ×˜×™×¤×™× ×œ×©×™×¤×•×¨...`,
      suggestions: [
        '×”×¨×—×‘ ××–×•×¨ ×’×™××•×’×¨×¤×™',
        '×”×•×¡×£ ×¢×•×“ ×©×™×¨×•×ª×™×',
        '×¢×“×›×Ÿ ××ª ×ª×™××•×¨ ×”×¢×¡×§'
      ]
    });
  }
}
```

---

# 5ï¸âƒ£ AI Matching

## ğŸ§  ×¢×§×¨×•× ×•×ª ×”×”×ª×××”

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸ¯ Matching Algorithm                                     â”‚
â”‚                                                            â”‚
â”‚ Input: Lead                                                â”‚
â”‚ {                                                          â”‚
â”‚   type: "wedding",                                         â”‚
â”‚   service: "×¦×œ×",                                          â”‚
â”‚   location: "×¨×¢× × ×”",                                       â”‚
â”‚   date: "2026-06-01",                                      â”‚
â”‚   budget: "8000",                                          â”‚
â”‚   notes: "××—×¤×©×™× ×¡×’× ×•×Ÿ ×˜×‘×¢×™"                              â”‚
â”‚ }                                                          â”‚
â”‚                                                            â”‚
â”‚ Process:                                                   â”‚
â”‚ 1. Filter: ×§×˜×’×•×¨×™×” ××ª××™××”                                 â”‚
â”‚ 2. Filter: ××–×•×¨ ×’×™××•×’×¨×¤×™                                  â”‚
â”‚ 3. Filter: ×˜×•×•×— ××—×™×¨×™×                                    â”‚
â”‚ 4. Filter: ×™×© ×™×ª×¨×” / ××•×›×Ÿ ×œ×©×œ×                           â”‚
â”‚ 5. Rank: Semantic similarity                              â”‚
â”‚ 6. Rank: ×“×™×¨×•×’ ×”×¢×¡×§                                       â”‚
â”‚ 7. Rank: ×–××™× ×•×ª (×œ× ×¢××•×¡ ×‘×œ×™×“×™×)                         â”‚
â”‚                                                            â”‚
â”‚ Output: Top 3 Businesses (sorted by score)                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ” ××œ×’×•×¨×™×ª× ××¤×•×¨×˜

```typescript
interface Lead {
  id: string;
  partner_id: string;
  service_type: string;
  location: string;
  date?: string;
  budget?: number;
  notes?: string;
  customer_name: string;
  customer_phone: string;
  customer_email?: string;
}

interface MatchResult {
  business_id: string;
  score: number;
  reasons: string[];
}

async function findMatchingBusinesses(lead: Lead): Promise<MatchResult[]> {
  
  // 1. ×©×œ×™×¤×ª ×¢×¡×§×™× ×¤×•×˜× ×¦×™××œ×™×™×
  let candidates = await db.businesses.findMany({
    where: {
      status: 'active',
      credit_balance: { gt: 0 }, // ××• ××•×›×Ÿ ×œ-pay-per-lead
      max_leads_per_day: { gt: db.raw('leads_today_count') }
    }
  });
  
  // 2. Filter ×œ×¤×™ ×§×˜×’×•×¨×™×”
  candidates = candidates.filter(biz => 
    biz.categories.some(cat => 
      isRelatedCategory(cat, lead.service_type)
    )
  );
  
  // 3. Filter ×œ×¤×™ ××–×•×¨
  candidates = candidates.filter(biz =>
    biz.areas.some(area => 
      isInArea(lead.location, area)
    )
  );
  
  // 4. Filter ×œ×¤×™ ××—×™×¨ (×× ×¦×•×™×Ÿ)
  if (lead.budget) {
    candidates = candidates.filter(biz =>
      !biz.price_range || 
      (biz.price_range.min <= lead.budget && 
       biz.price_range.max >= lead.budget)
    );
  }
  
  // 5. Scoring
  const scored = await Promise.all(
    candidates.map(async (biz) => {
      let score = 0;
      const reasons: string[] = [];
      
      // Semantic similarity (0-40 points)
      if (lead.notes && biz.description) {
        const similarity = await calculateSimilarity(
          lead.notes, 
          biz.description
        );
        score += similarity * 40;
        if (similarity > 0.7) {
          reasons.push('×”×ª×××” ×’×‘×•×”×” ×œ×“×¨×™×©×•×ª');
        }
      }
      
      // Rating (0-20 points)
      if (biz.rating) {
        score += (biz.rating / 5) * 20;
        if (biz.rating >= 4.5) {
          reasons.push('×“×™×¨×•×’ ××¢×•×œ×”');
        }
      }
      
      // Availability (0-20 points)
      const leadLoadRatio = biz.leads_today_count / biz.max_leads_per_day;
      score += (1 - leadLoadRatio) * 20;
      if (leadLoadRatio < 0.3) {
        reasons.push('×–××™× ×•×ª ×’×‘×•×”×”');
      }
      
      // Response rate (0-20 points)
      if (biz.response_rate) {
        score += biz.response_rate * 20;
        if (biz.response_rate > 0.8) {
          reasons.push('××—×•×– ××¢× ×” ×’×‘×•×”');
        }
      }
      
      return { business_id: biz.id, score, reasons };
    })
  );
  
  // 6. Sort and return top 3
  return scored
    .sort((a, b) => b.score - a.score)
    .slice(0, 3);
}

// Helper: ×—×™×©×•×‘ Semantic Similarity
async function calculateSimilarity(text1: string, text2: string): Promise<number> {
  // Option 1: OpenAI Embeddings
  const [emb1, emb2] = await Promise.all([
    getEmbedding(text1),
    getEmbedding(text2)
  ]);
  return cosineSimilarity(emb1, emb2);
  
  // Option 2: LLM-based scoring
  // const response = await llm.complete(`
  //   Score similarity 0-1 between:
  //   "${text1}" and "${text2}"
  // `);
  // return parseFloat(response);
}
```

## ğŸ“Š ×©×§×™×¤×•×ª ×‘-Matching

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸ” ×œ×¤× ×™ ×”×¤×§×“×” - ×”×¦×’ ×œ×¢×¡×§:                                â”‚
â”‚                                                            â”‚
â”‚ "×¦×œ××™ ×—×ª×•× ×•×ª ×‘××–×•×¨ ×”×©×¨×•×Ÿ"                                â”‚
â”‚                                                            â”‚
â”‚ ğŸ“Š ×¡×˜×˜×™×¡×˜×™×§×•×ª:                                            â”‚
â”‚ â€¢ ×××•×¦×¢ ×œ×™×“×™× ×‘×—×•×“×©: 12                                   â”‚
â”‚ â€¢ ×¢×¡×§×™× ×¤×¢×™×œ×™× ×‘×§×˜×’×•×¨×™×”: 8                                â”‚
â”‚ â€¢ ×œ×™×“ ×××•×¦×¢ ×œ×¢×¡×§: 1-2 ×‘×—×•×“×©                              â”‚
â”‚                                                            â”‚
â”‚ âš ï¸ ×§×˜×’×•×¨×™×•×ª ×¢× ××¢×˜ ×‘×™×§×•×©:                                â”‚
â”‚ â€¢ "DJ ×‘××™×œ×ª" - 2 ×œ×™×“×™× ×‘×—×•×“×© ×”××—×¨×•×Ÿ                      â”‚
â”‚ â€¢ ××•××œ×¥: ×œ×”×¨×—×™×‘ ×œ×›×œ ×”×“×¨×•×                                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

# 6ï¸âƒ£ Partner API

## ğŸ”Œ ×××©×§ ×œ××¤×œ×™×§×¦×™×•×ª AI

### Authentication:

```typescript
// ×›×œ Partner ××§×‘×œ API Key
// Header: Authorization: Bearer {API_KEY}
```

### Endpoints:

#### POST /api/leads - ×©×œ×™×—×ª ×œ×™×“

```typescript
// Request
POST /api/leads
{
  "service_type": "photography",    // ×¡×•×’ ×©×™×¨×•×ª
  "event_type": "wedding",          // ×¡×•×’ ××™×¨×•×¢ (××•×¤×¦×™×•× ×œ×™)
  "location": "×¨×¢× × ×”",              // ××™×§×•×
  "date": "2026-06-01",             // ×ª××¨×™×š (××•×¤×¦×™×•× ×œ×™)
  "budget": 8000,                   // ×ª×§×¦×™×‘ (××•×¤×¦×™×•× ×œ×™)
  "notes": "××—×¤×©×™× ×¡×’× ×•×Ÿ ×˜×‘×¢×™",    // ×”×¢×¨×•×ª (××•×¤×¦×™×•× ×œ×™)
  "customer": {
    "name": "×™×•×¡×™ ×›×”×Ÿ",
    "phone": "050-1234567",
    "email": "yossi@email.com"      // ××•×¤×¦×™×•× ×œ×™
  },
  "context": {                      // ×§×•× ×˜×§×¡×˜ ××”×©×™×—×” (××•×¤×¦×™×•× ×œ×™)
    "conversation_summary": "...",
    "preferences": ["×˜×‘×¢×™", "×œ× ××‘×•×™×"]
  }
}

// Response - Success
{
  "success": true,
  "lead_id": "lead_abc123",
  "matched_businesses": 3,
  "estimated_revenue": 40,          // ×”×›× ×¡×” ×¦×¤×•×™×” ×œ-Partner
  "status": "sent"                  // sent / pending / no_match
}

// Response - No Match
{
  "success": true,
  "lead_id": "lead_abc123",
  "matched_businesses": 0,
  "status": "no_match",
  "reason": "××™×Ÿ ×¢×¡×§×™× ×¤×¢×™×œ×™× ×‘××–×•×¨/×§×˜×’×•×¨×™×”"
}
```

#### GET /api/leads/{lead_id} - ×¡×˜×˜×•×¡ ×œ×™×“

```typescript
// Response
{
  "lead_id": "lead_abc123",
  "status": "converted",            // pending/sent/viewed/contacted/converted/rejected
  "created_at": "2026-01-31T10:00:00Z",
  "business": {
    "name": "×¡×˜×•×“×™×• ××•×¨",           // ×¨×§ ××—×¨×™ ×”××¨×”
    "contacted_at": "2026-01-31T10:05:00Z"
  },
  "revenue": {
    "lead_price": 40,
    "partner_share": 28,
    "status": "paid"                // pending/paid
  }
}
```

#### GET /api/partners/me - ×¤×¨×˜×™ Partner

```typescript
// Response
{
  "partner_id": "partner_xyz",
  "name": "Event.nApp",
  "balance": 1250,                  // ×™×ª×¨×” ×œ×ª×©×œ×•×
  "stats": {
    "total_leads": 156,
    "converted_leads": 89,
    "conversion_rate": 0.57,
    "total_revenue": 3920
  },
  "this_month": {
    "leads": 23,
    "revenue": 644
  }
}
```

#### GET /api/categories - ×§×˜×’×•×¨×™×•×ª ×–××™× ×•×ª

```typescript
// Response
{
  "categories": [
    {
      "id": "photography",
      "name": "×¦×™×œ×•×",
      "subcategories": ["weddings", "events", "portraits"],
      "avg_lead_price": 40,
      "active_businesses": 45
    },
    // ...
  ]
}
```

### Webhooks:

```typescript
// Partner ××’×“×™×¨ webhook_url
// ×”×¤×œ×˜×¤×•×¨××” ×©×•×œ×—×ª ×¢×“×›×•× ×™×:

// Lead Status Changed
POST {webhook_url}
{
  "event": "lead.status_changed",
  "lead_id": "lead_abc123",
  "old_status": "sent",
  "new_status": "converted",
  "timestamp": "2026-01-31T10:30:00Z"
}

// Revenue Credited
POST {webhook_url}
{
  "event": "revenue.credited",
  "lead_id": "lead_abc123",
  "amount": 28,
  "new_balance": 1278,
  "timestamp": "2026-01-31T10:30:00Z"
}

// Monthly Payout
POST {webhook_url}
{
  "event": "payout.sent",
  "amount": 3920,
  "leads_count": 140,
  "period": "2026-01",
  "timestamp": "2026-02-01T00:00:00Z"
}
```

---

# 7ï¸âƒ£ ×¤×•×¨×˜×œ ×¢×¡×§×™×

## ğŸ“± ×××©×§ ××©×ª××© ×œ×¢×¡×§×™×

### Dashboard:

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸ  Dashboard - ×¡×˜×•×“×™×• ××•×¨                                 â”‚
â”‚                                                            â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”‚
â”‚ â”‚   ×™×ª×¨×”       â”‚ â”‚ ×œ×™×“×™× ×”×—×•×“×© â”‚ â”‚ ×”××¨×•×ª       â”‚        â”‚
â”‚ â”‚   â‚ª460      â”‚ â”‚     8        â”‚ â”‚    5 (62%)  â”‚        â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜        â”‚
â”‚                                                            â”‚
â”‚ ğŸ“‹ ×œ×™×“×™× ××—×¨×•× ×™×:                                         â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚ â”‚ ğŸŸ¢ ×™×•×¡×™ ×›×”×Ÿ | ×¦×™×œ×•× ×—×ª×•× ×” | ×¨×¢× × ×” | ×œ×¤× ×™ 2 ×©×¢×•×ª    â”‚  â”‚
â”‚ â”‚    ×ª×§×¦×™×‘: â‚ª8,000 | "××—×¤×©×™× ×¡×’× ×•×Ÿ ×˜×‘×¢×™"              â”‚  â”‚
â”‚ â”‚    [ğŸ“ ×”×ª×§×©×¨] [ğŸ“§ ×©×œ×— ××™×™×œ] [âœ… ×¡×•××Ÿ ×›×˜×•×¤×œ]         â”‚  â”‚
â”‚ â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤  â”‚
â”‚ â”‚ ğŸŸ¡ ×“× ×” ×œ×•×™ | ×‘×¨ ××¦×•×•×” | ×”×¨×¦×œ×™×” | ×œ×¤× ×™ ×™×•×           â”‚  â”‚
â”‚ â”‚    ×ª×§×¦×™×‘: â‚ª5,000 | ×××ª×™×Ÿ ×œ×ª×©×•×‘×”                      â”‚  â”‚
â”‚ â”‚    [ğŸ“ ×”×ª×§×©×¨] [ğŸ“§ ×ª×–×›×•×¨×ª]                            â”‚  â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                            â”‚
â”‚ [â• ×”×¤×§×“ ×™×ª×¨×”] [âš™ï¸ ×”×’×“×¨×•×ª] [ğŸ“Š ×“×•×—×•×ª]                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### ×”×’×“×¨×•×ª ×¢×¡×§:

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ âš™ï¸ ×”×’×“×¨×•×ª - ×¡×˜×•×“×™×• ××•×¨                                   â”‚
â”‚                                                            â”‚
â”‚ ğŸ“ ×ª×™××•×¨ ×”×¢×¡×§:                                            â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚ â”‚ ×× ×—× ×• ×¡×˜×•×“×™×• ×œ×¦×™×œ×•× ××™×¨×•×¢×™× - ×—×ª×•× ×•×ª, ×‘×¨ ××¦×•×•×ª,    â”‚  â”‚
â”‚ â”‚ ××™×¨×•×¢×™ ×—×‘×¨×”. ××ª××—×™× ×‘×¡×’× ×•×Ÿ ×˜×‘×¢×™ ×•×“×•×§×•×× ×˜×¨×™.        â”‚  â”‚
â”‚ â”‚ ×¢×•×‘×“×™× ×‘×›×œ ××–×•×¨ ×”××¨×›×– ×•×”×©×¨×•×Ÿ.                       â”‚  â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚ [×¢×“×›×Ÿ ×ª×™××•×¨]                                              â”‚
â”‚                                                            â”‚
â”‚ ğŸ—ºï¸ ××–×•×¨×™ ×©×™×¨×•×ª:                                          â”‚
â”‚ [âœ“] ××¨×›×–  [âœ“] ×”×©×¨×•×Ÿ  [ ] ×“×¨×•×  [ ] ×¦×¤×•×Ÿ  [ ] ×™×¨×•×©×œ×™×   â”‚
â”‚                                                            â”‚
â”‚ ğŸ’° ×˜×•×•×— ××—×™×¨×™×:                                           â”‚
â”‚ ××™× ×™××•×: [â‚ª5,000]  ××§×¡×™××•×: [â‚ª15,000]                    â”‚
â”‚                                                            â”‚
â”‚ ğŸ“Š ×”×¢×“×¤×•×ª ×œ×™×“×™×:                                          â”‚
â”‚ ××§×¡×™××•× ×œ×™×“×™× ×‘×™×•×: [5]                                   â”‚
â”‚ ××—×™×¨ ××§×¡×™××œ×™ ×œ×œ×™×“: [â‚ª60]                                 â”‚
â”‚                                                            â”‚
â”‚ ğŸ“± ×¤×¨×˜×™ ×§×©×¨:                                              â”‚
â”‚ ×˜×œ×¤×•×Ÿ: [054-1234567]                                      â”‚
â”‚ ××™××™×™×œ: [studio@email.com]                                â”‚
â”‚ WhatsApp: [âœ“] ×§×‘×œ ×”×•×“×¢×•×ª ×‘-WhatsApp                      â”‚
â”‚                                                            â”‚
â”‚ [ğŸ’¾ ×©××•×¨ ×”×’×“×¨×•×ª]                                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### ×ª×©×œ×•× ×•×”×¤×§×“×”:

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸ’³ ×”×¤×§×“×ª ×™×ª×¨×”                                             â”‚
â”‚                                                            â”‚
â”‚ ×™×ª×¨×” × ×•×›×—×™×ª: â‚ª460                                         â”‚
â”‚ ×ª×•×§×£: ×¢×“ 15/07/2026 (167 ×™××™×)                           â”‚
â”‚                                                            â”‚
â”‚ ×‘×—×¨ ×¡×›×•× ×œ×”×¤×§×“×”:                                          â”‚
â”‚                                                            â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”          â”‚
â”‚ â”‚    â‚ª200     â”‚ â”‚    â‚ª500     â”‚ â”‚   â‚ª1,000    â”‚          â”‚
â”‚ â”‚             â”‚ â”‚  +10% ×‘×•× ×•×¡ â”‚ â”‚  +20% ×‘×•× ×•×¡ â”‚          â”‚
â”‚ â”‚             â”‚ â”‚   = â‚ª550    â”‚ â”‚   = â‚ª1,200  â”‚          â”‚
â”‚ â”‚   [×‘×—×¨]     â”‚ â”‚   [×‘×—×¨]     â”‚ â”‚   [×‘×—×¨]     â”‚          â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â”‚
â”‚                                                            â”‚
â”‚ ×¡×›×•× ××—×¨: [________] â‚ª                                    â”‚
â”‚                                                            â”‚
â”‚ ğŸ’³ ×××¦×¢×™ ×ª×©×œ×•×:                                           â”‚
â”‚ â—‹ ×›×¨×˜×™×¡ ××©×¨××™                                             â”‚
â”‚ â—‹ Bit                                                      â”‚
â”‚ â—‹ ×”×¢×‘×¨×” ×‘× ×§××™×ª                                            â”‚
â”‚                                                            â”‚
â”‚ [×”××©×š ×œ×ª×©×œ×•× â†’]                                           â”‚
â”‚                                                            â”‚
â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€     â”‚
â”‚ ğŸ“œ ×ª× ××™×: ×”×™×ª×¨×” ×ª×§×¤×” 12 ×—×•×“×©×™×. ×¨××” ××“×™× ×™×•×ª ××œ××”.       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

# 8ï¸âƒ£ Database Schema

## ğŸ“Š ××‘× ×” ×‘×¡×™×¡ ×”× ×ª×•× ×™×

### ERD Diagram:

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚    partners     â”‚       â”‚     leads       â”‚       â”‚   businesses    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤       â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤       â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ id              â”‚â”€â”€â”€â”   â”‚ id              â”‚   â”Œâ”€â”€â”€â”‚ id              â”‚
â”‚ name            â”‚   â”‚   â”‚ partner_id      â”‚â”€â”€â”€â”˜   â”‚ name            â”‚
â”‚ api_key         â”‚   â””â”€â”€â–ºâ”‚ business_id     â”‚â—„â”€â”€â”€â”€â”€â”€â”‚ description     â”‚
â”‚ webhook_url     â”‚       â”‚ status          â”‚       â”‚ categories      â”‚
â”‚ revenue_share   â”‚       â”‚ customer_*      â”‚       â”‚ areas           â”‚
â”‚ balance         â”‚       â”‚ service_type    â”‚       â”‚ credit_balance  â”‚
â”‚ created_at      â”‚       â”‚ location        â”‚       â”‚ status          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â”‚ lead_price      â”‚       â”‚ created_at      â”‚
                          â”‚ partner_share   â”‚       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                          â”‚ created_at      â”‚                â”‚
                          â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                â”‚
                                   â”‚                         â”‚
                                   â”‚                         â”‚
                          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”       â”Œâ”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”
                          â”‚  lead_events    â”‚       â”‚  transactions â”‚
                          â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤       â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
                          â”‚ id              â”‚       â”‚ id            â”‚
                          â”‚ lead_id         â”‚       â”‚ business_id   â”‚
                          â”‚ event_type      â”‚       â”‚ type          â”‚
                          â”‚ metadata        â”‚       â”‚ amount        â”‚
                          â”‚ created_at      â”‚       â”‚ created_at    â”‚
                          â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Tables:

#### partners (××¤×œ×™×§×¦×™×•×ª AI)

```sql
CREATE TABLE partners (
  id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
  name VARCHAR(255) NOT NULL,
  api_key VARCHAR(255) UNIQUE NOT NULL,
  api_key_hash VARCHAR(255) NOT NULL,
  webhook_url VARCHAR(500),
  revenue_share DECIMAL(3,2) DEFAULT 0.70,  -- 70%
  balance DECIMAL(10,2) DEFAULT 0,           -- ×™×ª×¨×” ×œ×ª×©×œ×•×
  status VARCHAR(20) DEFAULT 'active',       -- active, suspended, inactive
  contact_email VARCHAR(255),
  contact_name VARCHAR(255),
  created_at TIMESTAMPTZ DEFAULT NOW(),
  updated_at TIMESTAMPTZ DEFAULT NOW()
);

CREATE INDEX idx_partners_api_key ON partners(api_key_hash);
```

#### businesses (×¢×¡×§×™×)

```sql
CREATE TABLE businesses (
  id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
  
  -- ×¤×¨×˜×™ ×”×¢×¡×§
  name VARCHAR(255) NOT NULL,
  description TEXT,                          -- ×ª×™××•×¨ ×—×•×¤×©×™
  categories JSONB DEFAULT '[]',             -- ["photography", "weddings"]
  services JSONB DEFAULT '[]',               -- ["×¦×™×œ×•× ×—×ª×•× ×•×ª", "×¦×™×œ×•× ×‘×¨ ××¦×•×•×”"]
  areas JSONB DEFAULT '[]',                  -- ["××¨×›×–", "×”×©×¨×•×Ÿ"]
  keywords JSONB DEFAULT '[]',               -- ××™×œ×•×ª ××¤×ª×—
  price_range JSONB,                         -- {min, max, currency, unit}
  
  -- ×¤×¨×˜×™ ×§×©×¨
  phone VARCHAR(20),
  email VARCHAR(255),
  website VARCHAR(500),
  whatsapp_enabled BOOLEAN DEFAULT false,
  
  -- ×™×ª×¨×•×ª ×•×ª×©×œ×•××™×
  credit_balance DECIMAL(10,2) DEFAULT 0,
  balance_expires_at TIMESTAMPTZ,
  payment_model VARCHAR(20) DEFAULT 'prepaid', -- prepaid, pay_per_lead
  max_lead_price DECIMAL(10,2) DEFAULT 100,
  
  -- ×”×’×“×¨×•×ª ×œ×™×“×™×
  max_leads_per_day INT DEFAULT 10,
  leads_today_count INT DEFAULT 0,
  
  -- ×¡×˜×˜×™×¡×˜×™×§×•×ª
  total_leads_received INT DEFAULT 0,
  total_leads_converted INT DEFAULT 0,
  response_rate DECIMAL(3,2),
  rating DECIMAL(2,1),
  reviews_count INT DEFAULT 0,
  last_lead_received_at TIMESTAMPTZ,
  
  -- ××§×•×¨
  source VARCHAR(50),                        -- google_places, manual, referral
  google_place_id VARCHAR(255),
  scraped_from VARCHAR(500),
  
  -- ×¡×˜×˜×•×¡
  status VARCHAR(20) DEFAULT 'pending',      -- pending, active, suspended, inactive
  verified_at TIMESTAMPTZ,
  
  created_at TIMESTAMPTZ DEFAULT NOW(),
  updated_at TIMESTAMPTZ DEFAULT NOW()
);

CREATE INDEX idx_businesses_categories ON businesses USING GIN(categories);
CREATE INDEX idx_businesses_areas ON businesses USING GIN(areas);
CREATE INDEX idx_businesses_status ON businesses(status);
CREATE INDEX idx_businesses_balance ON businesses(credit_balance);
```

#### leads (×œ×™×“×™×)

```sql
CREATE TABLE leads (
  id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
  
  -- ×§×©×¨×™×
  partner_id UUID REFERENCES partners(id),
  business_id UUID REFERENCES businesses(id),
  
  -- ×¤×¨×˜×™ ×”×œ×™×“
  service_type VARCHAR(100) NOT NULL,
  event_type VARCHAR(100),
  location VARCHAR(255),
  date DATE,
  budget DECIMAL(10,2),
  notes TEXT,
  context JSONB,                             -- ×§×•× ×˜×§×¡×˜ ××”×©×™×—×”
  
  -- ×¤×¨×˜×™ ×”×œ×§×•×—
  customer_name VARCHAR(255) NOT NULL,
  customer_phone VARCHAR(20) NOT NULL,
  customer_email VARCHAR(255),
  
  -- ×¡×˜×˜×•×¡
  status VARCHAR(20) DEFAULT 'pending',      -- pending, sent, viewed, contacted, converted, rejected, expired
  
  -- ×›×¡×¤×™×
  lead_price DECIMAL(10,2),
  partner_share DECIMAL(10,2),
  platform_share DECIMAL(10,2),
  
  -- ××¢×§×‘
  sent_at TIMESTAMPTZ,
  viewed_at TIMESTAMPTZ,
  contacted_at TIMESTAMPTZ,
  converted_at TIMESTAMPTZ,
  business_feedback TEXT,
  business_rating INT,                       -- 1-5
  
  created_at TIMESTAMPTZ DEFAULT NOW(),
  updated_at TIMESTAMPTZ DEFAULT NOW()
);

CREATE INDEX idx_leads_partner ON leads(partner_id);
CREATE INDEX idx_leads_business ON leads(business_id);
CREATE INDEX idx_leads_status ON leads(status);
CREATE INDEX idx_leads_created ON leads(created_at DESC);
```

#### lead_events (×”×™×¡×˜×•×¨×™×™×ª ××™×¨×•×¢×™×)

```sql
CREATE TABLE lead_events (
  id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
  lead_id UUID REFERENCES leads(id),
  event_type VARCHAR(50) NOT NULL,           -- created, matched, sent, viewed, contacted, converted, rejected
  actor VARCHAR(20),                         -- system, business, customer
  metadata JSONB,
  created_at TIMESTAMPTZ DEFAULT NOW()
);

CREATE INDEX idx_lead_events_lead ON lead_events(lead_id);
CREATE INDEX idx_lead_events_type ON lead_events(event_type);
```

#### transactions (×¢×¡×§××•×ª ×›×¡×¤×™×•×ª)

```sql
CREATE TABLE transactions (
  id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
  
  -- ×§×©×¨×™×
  business_id UUID REFERENCES businesses(id),
  partner_id UUID REFERENCES partners(id),
  lead_id UUID REFERENCES leads(id),
  
  -- ×¤×¨×˜×™ ×”×¢×¡×§×”
  type VARCHAR(30) NOT NULL,                 -- deposit, lead_charge, refund, payout, bonus
  amount DECIMAL(10,2) NOT NULL,
  balance_before DECIMAL(10,2),
  balance_after DECIMAL(10,2),
  
  -- ×ª×©×œ×•× ×—×™×¦×•× ×™
  payment_provider VARCHAR(50),              -- payplus, tranzila, cardcom, bit
  payment_reference VARCHAR(255),
  
  -- ×¡×˜×˜×•×¡
  status VARCHAR(20) DEFAULT 'completed',    -- pending, completed, failed, refunded
  
  description TEXT,
  metadata JSONB,
  
  created_at TIMESTAMPTZ DEFAULT NOW()
);

CREATE INDEX idx_transactions_business ON transactions(business_id);
CREATE INDEX idx_transactions_partner ON transactions(partner_id);
CREATE INDEX idx_transactions_type ON transactions(type);
```

#### partner_payouts (×ª×©×œ×•××™× ×œ-Partners)

```sql
CREATE TABLE partner_payouts (
  id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
  partner_id UUID REFERENCES partners(id),
  
  amount DECIMAL(10,2) NOT NULL,
  leads_count INT NOT NULL,
  period_start DATE NOT NULL,
  period_end DATE NOT NULL,
  
  status VARCHAR(20) DEFAULT 'pending',      -- pending, processing, paid, failed
  paid_at TIMESTAMPTZ,
  payment_method VARCHAR(50),
  payment_reference VARCHAR(255),
  
  created_at TIMESTAMPTZ DEFAULT NOW()
);

CREATE INDEX idx_payouts_partner ON partner_payouts(partner_id);
CREATE INDEX idx_payouts_status ON partner_payouts(status);
```

#### scraped_businesses (×¢×¡×§×™× ×©× ×¡×¨×§×• - ×˜×¨×•× ×¨×™×©×•×)

```sql
CREATE TABLE scraped_businesses (
  id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
  
  -- ××™×“×¢ ×©× ×¡×¨×§
  name VARCHAR(255) NOT NULL,
  address VARCHAR(500),
  phone VARCHAR(20),
  email VARCHAR(255),
  website VARCHAR(500),
  
  -- ××§×•×¨
  source VARCHAR(50) NOT NULL,               -- google_places, facebook, dapei_zahav
  source_id VARCHAR(255),                    -- ID ×‘××§×•×¨
  source_url VARCHAR(500),
  
  -- ××™×“×¢ × ×•×¡×£
  category VARCHAR(100),
  rating DECIMAL(2,1),
  reviews_count INT,
  
  -- ×¡×˜×˜×•×¡ Outreach
  outreach_status VARCHAR(20) DEFAULT 'pending', -- pending, sent, responded, converted, unsubscribed
  outreach_sent_at TIMESTAMPTZ,
  outreach_response_at TIMESTAMPTZ,
  
  scraped_at TIMESTAMPTZ DEFAULT NOW(),
  updated_at TIMESTAMPTZ DEFAULT NOW()
);

CREATE INDEX idx_scraped_source ON scraped_businesses(source, source_id);
CREATE INDEX idx_scraped_status ON scraped_businesses(outreach_status);
```

---

# 9ï¸âƒ£ ×¡×¤×§×™ ×ª×©×œ×•×

## ğŸ’³ ××™× ×˜×’×¨×¦×™×•×ª ×™×©×¨××œ×™×•×ª

### ×œ××” ×œ× Stripe?

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ âŒ Stripe ×œ× ×–××™×Ÿ ×¨×©××™×ª ×‘×™×©×¨××œ                           â”‚
â”‚                                                            â”‚
â”‚ â€¢ ××™×Ÿ ××¤×©×¨×•×ª ×œ×¤×ª×•×— ×—×©×‘×•×Ÿ ×™×©×¨××œ×™                          â”‚
â”‚ â€¢ ××¤×©×¨×™ ×¨×§ ×“×¨×š LLC ×××¨×™×§××™×ª (××¡×•×‘×š)                      â”‚
â”‚ â€¢ ×‘×¢×™×•×ª ×¢× ×¡×œ×™×§×ª ×›×¨×˜×™×¡×™× ×™×©×¨××œ×™×                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### ×”××œ×˜×¨× ×˜×™×‘×•×ª:

| ×¡×¤×§ | ×™×ª×¨×•× ×•×ª | ×¢××œ×•×ª |
|:----|:--------|:-------|
| **PayPlus** | API ××•×“×¨× ×™, ×ª×•××š Bit, ×“×•×§×•×× ×˜×¦×™×” ×˜×•×‘×” | ~â‚ª200 ×”×§××”, â‚ª50-60/×—×•×“×©, 1.8% |
| **Tranzila** | ×¨×™×©×™×•×Ÿ ×‘× ×§ ×™×©×¨××œ, ×˜×•×§× ×™×, ×•×ª×™×§ ×•×™×¦×™×‘ | ×“×•××” |
| **CardCom** | ×ª××™×›×” ×˜×›× ×™×ª ××¢×•×œ×”, ×¡×¤×§+××¡×•×£ ×‘××§×•× ××—×“ | ×“×•××” |

### ×”××œ×¦×”: PayPlus (×œ×”×ª×—×œ×”)

```typescript
// PayPlus Integration Example

// 1. ×™×¦×™×¨×ª ×œ×™× ×§ ×ª×©×œ×•× ×œ×”×¤×§×“×”
async function createDepositLink(businessId: string, amount: number) {
  const business = await db.businesses.findUnique({ where: { id: businessId }});
  
  // ×—×™×©×•×‘ ×‘×•× ×•×¡
  let bonus = 0;
  if (amount >= 1000) bonus = amount * 0.20;
  else if (amount >= 500) bonus = amount * 0.10;
  
  const response = await fetch('https://api.payplus.co.il/api/v1.0/PaymentPages/generatePaymentPageLink', {
    method: 'POST',
    headers: {
      'Authorization': `Bearer ${process.env.PAYPLUS_SECRET_KEY}`,
      'Content-Type': 'application/json'
    },
    body: JSON.stringify({
      payment_page_uid: process.env.PAYPLUS_PAGE_UID,
      amount: amount,
      currency: 'ILS',
      description: `×”×¤×§×“×ª ×™×ª×¨×” - ${business.name}`,
      customer: {
        name: business.name,
        email: business.email,
        phone: business.phone
      },
      callback_url: `${process.env.API_URL}/webhooks/payplus`,
      success_url: `${process.env.APP_URL}/business/deposit/success`,
      failure_url: `${process.env.APP_URL}/business/deposit/failed`,
      more_info: JSON.stringify({
        business_id: businessId,
        amount: amount,
        bonus: bonus,
        type: 'deposit'
      })
    })
  });
  
  const data = await response.json();
  return data.data.generated_url;
}

// 2. Webhook ×œ××™×©×•×¨ ×ª×©×œ×•×
async function handlePayPlusWebhook(payload: any) {
  const { transaction_uid, status, more_info } = payload;
  
  if (status !== 'approved') return;
  
  const info = JSON.parse(more_info);
  const totalCredit = info.amount + info.bonus;
  
  await db.$transaction([
    // ×¢×“×›×•×Ÿ ×™×ª×¨×”
    db.businesses.update({
      where: { id: info.business_id },
      data: {
        credit_balance: { increment: totalCredit },
        balance_expires_at: addMonths(new Date(), 12)
      }
    }),
    
    // ×¨×™×©×•× ×¢×¡×§×”
    db.transactions.create({
      data: {
        business_id: info.business_id,
        type: 'deposit',
        amount: info.amount,
        payment_provider: 'payplus',
        payment_reference: transaction_uid,
        description: info.bonus > 0 
          ? `×”×¤×§×“×” â‚ª${info.amount} + ×‘×•× ×•×¡ â‚ª${info.bonus}`
          : `×”×¤×§×“×” â‚ª${info.amount}`
      }
    }),
    
    // ×‘×•× ×•×¡ ×›×¢×¡×§×” × ×¤×¨×“×ª
    info.bonus > 0 && db.transactions.create({
      data: {
        business_id: info.business_id,
        type: 'bonus',
        amount: info.bonus,
        description: `×‘×•× ×•×¡ ×”×¤×§×“×” ${info.bonus > info.amount * 0.15 ? '20%' : '10%'}`
      }
    })
  ].filter(Boolean));
}
```

### Bit Integration (××•×¤×¦×™×•× ×œ×™):

```typescript
// Bit Business API
// ×××¤×©×¨ ×ª×©×œ×•××™× ××™×™×“×™×™×

async function requestBitPayment(businessId: string, amount: number) {
  // Bit ×“×•×¨×© ×—×©×‘×•×Ÿ ×¢×¡×§×™ ×××•××ª
  // API ×“×•××” ×œ-PayPlus
  
  const response = await fetch('https://api.bitpay.co.il/v1/payment-request', {
    method: 'POST',
    headers: {
      'Authorization': `Bearer ${process.env.BIT_API_KEY}`,
      'Content-Type': 'application/json'
    },
    body: JSON.stringify({
      amount,
      description: '×”×¤×§×“×ª ×™×ª×¨×”',
      callback_url: `${process.env.API_URL}/webhooks/bit`,
      metadata: { business_id: businessId }
    })
  });
  
  const { payment_url } = await response.json();
  return payment_url;
}
```

---

# ğŸ”Ÿ ××•×“×œ ×¢×¡×§×™

## ğŸ’° ×ª××—×•×¨ ×œ×™×“×™× ×œ×¤×™ ×§×˜×’×•×¨×™×”

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸ“Š ×˜×‘×œ×ª ××—×™×¨×™×:                                           â”‚
â”‚                                                            â”‚
â”‚ ×§×˜×’×•×¨×™×”          â”‚ ××—×™×¨ ×œ×™×“ â”‚ Partner (70%) â”‚ Platform   â”‚
â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚
â”‚ ××•×œ× ××™×¨×•×¢×™×    â”‚   â‚ª150   â”‚     â‚ª105      â”‚    â‚ª45     â”‚
â”‚ ×¦×™×œ×•×           â”‚   â‚ª40    â”‚     â‚ª28       â”‚    â‚ª12     â”‚
â”‚ ×§×™×™×˜×¨×™× ×’        â”‚   â‚ª60    â”‚     â‚ª42       â”‚    â‚ª18     â”‚
â”‚ DJ / ××•×–×™×§×”     â”‚   â‚ª35    â”‚     â‚ª24.50    â”‚    â‚ª10.50  â”‚
â”‚ ××¡×¢×“×”           â”‚   â‚ª20    â”‚     â‚ª14       â”‚    â‚ª6      â”‚
â”‚ ××œ×•×Ÿ            â”‚   â‚ª80    â”‚     â‚ª56       â”‚    â‚ª24     â”‚
â”‚ ×‘×¢×œ ××§×¦×•×¢       â”‚   â‚ª25    â”‚     â‚ª17.50    â”‚    â‚ª7.50   â”‚
â”‚ ×¢×•×¨×š ×“×™×Ÿ        â”‚   â‚ª100   â”‚     â‚ª70       â”‚    â‚ª30     â”‚
â”‚ ×¨×•×¤×/×¨×¤×•××”      â”‚   â‚ª80    â”‚     â‚ª56       â”‚    â‚ª24     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ“ˆ ×ª×—×–×™×ª ×”×›× ×¡×•×ª

### ×©× ×” ×¨××©×•× ×”:

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸ“Š ×ª×—×–×™×ª ×©× ×” 1:                                           â”‚
â”‚                                                            â”‚
â”‚ ×—×•×“×© 1-3: Bootstrap                                       â”‚
â”‚ â€¢ 50 ×¢×¡×§×™× ×¤×¢×™×œ×™×                                         â”‚
â”‚ â€¢ 200 ×œ×™×“×™×/×—×•×“×©                                          â”‚
â”‚ â€¢ ×”×›× ×¡×”: â‚ª8,000/×—×•×“×© (Platform share)                    â”‚
â”‚                                                            â”‚
â”‚ ×—×•×“×© 4-6: Growth                                          â”‚
â”‚ â€¢ 200 ×¢×¡×§×™× ×¤×¢×™×œ×™×                                        â”‚
â”‚ â€¢ 800 ×œ×™×“×™×/×—×•×“×©                                          â”‚
â”‚ â€¢ ×”×›× ×¡×”: â‚ª32,000/×—×•×“×©                                    â”‚
â”‚                                                            â”‚
â”‚ ×—×•×“×© 7-12: Scale                                          â”‚
â”‚ â€¢ 500 ×¢×¡×§×™× ×¤×¢×™×œ×™×                                        â”‚
â”‚ â€¢ 2,000 ×œ×™×“×™×/×—×•×“×©                                        â”‚
â”‚ â€¢ ×”×›× ×¡×”: â‚ª80,000/×—×•×“×©                                    â”‚
â”‚                                                            â”‚
â”‚ ×¡×”"×› ×©× ×” 1: ~â‚ª500,000                                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### ×”×•×¦××•×ª ×¦×¤×•×™×•×ª:

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸ’¸ ×”×•×¦××•×ª ×—×•×“×©×™×•×ª (×‘×©×œ×‘ Scale):                          â”‚
â”‚                                                            â”‚
â”‚ â€¢ Hosting (Supabase Pro): $25                             â”‚
â”‚ â€¢ LLM APIs (matching): $100-200                           â”‚
â”‚ â€¢ Email Service: $50                                      â”‚
â”‚ â€¢ SMS/WhatsApp: $100                                      â”‚
â”‚ â€¢ Google Places API: $0 (free tier)                       â”‚
â”‚ â€¢ Payment Processing: ~2% ××”×”×›× ×¡×•×ª                       â”‚
â”‚                                                            â”‚
â”‚ ×¡×”"×›: ~â‚ª1,500-2,000/×—×•×“×©                                 â”‚
â”‚                                                            â”‚
â”‚ ğŸ“Š Margin: ~97% (×‘×©×œ×‘ Scale)                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

# 1ï¸âƒ£1ï¸âƒ£ Roadmap

## ğŸ—“ï¸ ×ª×•×›× ×™×ª ×¤×™×ª×•×—

### Phase 1: Foundation (×©×‘×•×¢×•×ª 1-4)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸ—ï¸ ×©×‘×•×¢ 1-2: Infrastructure                              â”‚
â”‚                                                            â”‚
â”‚ â–¡ Setup Supabase project                                  â”‚
â”‚ â–¡ Database schema implementation                          â”‚
â”‚ â–¡ Basic authentication                                    â”‚
â”‚ â–¡ Partner API skeleton                                    â”‚
â”‚                                                            â”‚
â”‚ ğŸ”Œ ×©×‘×•×¢ 3-4: Core Features                               â”‚
â”‚                                                            â”‚
â”‚ â–¡ Lead submission endpoint                                â”‚
â”‚ â–¡ Basic matching algorithm                                â”‚
â”‚ â–¡ Business registration flow                              â”‚
â”‚ â–¡ Email notifications                                     â”‚
â”‚                                                            â”‚
â”‚ âœ… Milestone: First lead sent manually                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Phase 2: MVP (×©×‘×•×¢×•×ª 5-8)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸ’³ ×©×‘×•×¢ 5-6: Payments                                     â”‚
â”‚                                                            â”‚
â”‚ â–¡ PayPlus integration                                     â”‚
â”‚ â–¡ Deposit flow                                            â”‚
â”‚ â–¡ Balance management                                      â”‚
â”‚ â–¡ Automatic lead charging                                 â”‚
â”‚                                                            â”‚
â”‚ ğŸ¯ ×©×‘×•×¢ 7-8: Matching                                     â”‚
â”‚                                                            â”‚
â”‚ â–¡ AI-powered description parsing                          â”‚
â”‚ â–¡ Semantic search implementation                          â”‚
â”‚ â–¡ Scoring algorithm                                       â”‚
â”‚ â–¡ Business preferences                                    â”‚
â”‚                                                            â”‚
â”‚ âœ… Milestone: 10 paying businesses, automated flow        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Phase 3: Scale (×©×‘×•×¢×•×ª 9-12)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸ” ×©×‘×•×¢ 9-10: Business Acquisition                       â”‚
â”‚                                                            â”‚
â”‚ â–¡ Google Places scraper                                   â”‚
â”‚ â–¡ Automated outreach system                               â”‚
â”‚ â–¡ Landing page for businesses                             â”‚
â”‚ â–¡ Referral program                                        â”‚
â”‚                                                            â”‚
â”‚ ğŸ“Š ×©×‘×•×¢ 11-12: Analytics & Optimization                  â”‚
â”‚                                                            â”‚
â”‚ â–¡ Business dashboard                                      â”‚
â”‚ â–¡ Partner dashboard                                       â”‚
â”‚ â–¡ Admin panel                                             â”‚
â”‚ â–¡ Reporting system                                        â”‚
â”‚                                                            â”‚
â”‚ âœ… Milestone: 100 businesses, 500 leads/month             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Phase 4: Growth (×©×‘×•×¢×•×ª 13-16)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸ“± ×©×‘×•×¢ 13-14: Enhanced UX                               â”‚
â”‚                                                            â”‚
â”‚ â–¡ WhatsApp Business integration                           â”‚
â”‚ â–¡ Mobile-optimized portal                                 â”‚
â”‚ â–¡ Real-time notifications                                 â”‚
â”‚ â–¡ Bit payment option                                      â”‚
â”‚                                                            â”‚
â”‚ ğŸš€ ×©×‘×•×¢ 15-16: Advanced Features                         â”‚
â”‚                                                            â”‚
â”‚ â–¡ Subscription plans                                      â”‚
â”‚ â–¡ Premium guarantees                                      â”‚
â”‚ â–¡ Multi-business accounts                                 â”‚
â”‚ â–¡ API v2 with webhooks                                    â”‚
â”‚                                                            â”‚
â”‚ âœ… Milestone: 500 businesses, 2000 leads/month            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ“ × ×¡×¤×—×™×

### × ×¡×¤×— ×': Environment Variables

```bash
# Database
DATABASE_URL=postgresql://...
SUPABASE_URL=https://xxx.supabase.co
SUPABASE_ANON_KEY=xxx
SUPABASE_SERVICE_KEY=xxx

# Payment Providers
PAYPLUS_API_KEY=xxx
PAYPLUS_SECRET_KEY=xxx
PAYPLUS_PAGE_UID=xxx

# LLM
OPENAI_API_KEY=xxx
# OR
GROQ_API_KEY=xxx

# Google
GOOGLE_PLACES_API_KEY=xxx

# Email
RESEND_API_KEY=xxx

# SMS/WhatsApp
TWILIO_ACCOUNT_SID=xxx
TWILIO_AUTH_TOKEN=xxx

# App
APP_URL=https://leads-platform.co.il
API_URL=https://api.leads-platform.co.il
```

### × ×¡×¤×— ×‘': API Error Codes

| Code | Message | Description |
|:-----|:--------|:------------|
| 400 | INVALID_REQUEST | ×‘×§×©×” ×œ× ×ª×§×™× ×” |
| 401 | UNAUTHORIZED | API Key ×œ× ×ª×§×™×Ÿ |
| 403 | FORBIDDEN | ××™×Ÿ ×”×¨×©××” |
| 404 | NOT_FOUND | ×œ× × ××¦× |
| 409 | DUPLICATE_LEAD | ×œ×™×“ ×›×¤×•×œ |
| 422 | NO_MATCH | ××™×Ÿ ×¢×¡×§×™× ××ª××™××™× |
| 429 | RATE_LIMITED | ×™×•×ª×¨ ××“×™ ×‘×§×©×•×ª |
| 500 | INTERNAL_ERROR | ×©×’×™××ª ×©×¨×ª |

### × ×¡×¤×— ×’': Lead Statuses

| Status | Description | Next Statuses |
|:-------|:------------|:--------------|
| `pending` | ×œ×™×“ × ×•×¦×¨, ×××ª×™×Ÿ ×œ×”×ª×××” | sent, no_match |
| `sent` | × ×©×œ×— ×œ×¢×¡×§ | viewed, expired |
| `viewed` | ×”×¢×¡×§ ×¦×¤×” ×‘×¤×¨×˜×™× | contacted, expired |
| `contacted` | ×”×¢×¡×§ ×™×¦×¨ ×§×©×¨ | converted, rejected |
| `converted` | ×¢×¡×§×” × ×¡×’×¨×” | - |
| `rejected` | ×”×¢×¡×§ ×“×—×” | - |
| `expired` | ×¤×’ ×ª×•×§×£ | - |
| `no_match` | ××™×Ÿ ×¢×¡×§×™× ××ª××™××™× | - |

---

## ğŸ¯ ×¡×™×›×•×

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸ’¡ Leads Platform - ×¡×™×›×•×                                 â”‚
â”‚                                                            â”‚
â”‚ ××” ×‘×•× ×™×:                                                 â”‚
â”‚ â€¢ ×¤×œ×˜×¤×•×¨××” ×œ×—×™×‘×•×¨ ××¤×œ×™×§×¦×™×•×ª AI ×œ×¢×¡×§×™× ××§×•××™×™×            â”‚
â”‚ â€¢ ××•×“×œ ×”×›× ×¡×”: 30% ××›×œ ×œ×™×“                                â”‚
â”‚                                                            â”‚
â”‚ ××™×š ××’×™×™×¡×™× ×¢×¡×§×™×:                                        â”‚
â”‚ â€¢ ×¡×¨×™×§×ª Google Places + Cold Email                       â”‚
â”‚ â€¢ ×¨×™×©×•× ×¤×©×•×˜ - ×¨×§ ×ª×™××•×¨ ×˜×§×¡×˜×•××œ×™                         â”‚
â”‚ â€¢ AI ××¤×¨×¡×¨ ×•××ª××™× ×œ×™×“×™×                                   â”‚
â”‚                                                            â”‚
â”‚ ××•×“×œ ×ª×©×œ×•×:                                               â”‚
â”‚ â€¢ Prepaid (×¢×™×§×¨×™) - ×”×¤×§×“×” + ×‘×•× ×•×¡                        â”‚
â”‚ â€¢ Pay-per-lead (××©× ×™) - ×œ×¡×§×¤×˜×™×™×                         â”‚
â”‚ â€¢ ×™×ª×¨×” ×ª×§×¤×” 12 ×—×•×“×©×™×                                    â”‚
â”‚                                                            â”‚
â”‚ ×¡×¤×§×™ ×ª×©×œ×•×:                                               â”‚
â”‚ â€¢ PayPlus / Tranzila / CardCom (×™×©×¨××œ×™)                  â”‚
â”‚ â€¢ ×œ× Stripe (×œ× ×–××™×Ÿ ×‘×™×©×¨××œ)                             â”‚
â”‚                                                            â”‚
â”‚ ×™×¢×“×™×:                                                    â”‚
â”‚ â€¢ ×©× ×” 1: 500 ×¢×¡×§×™×, â‚ª500K ×”×›× ×¡×•×ª                        â”‚
â”‚ â€¢ Margin: ~97%                                            â”‚
â”‚                                                            â”‚
â”‚ ğŸš€ Ready to build!                                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

**ğŸ“… × ×•×¦×¨:** 31 ×‘×™× ×•××¨ 2026

**âœï¸ ×’×¨×¡×”:** 1.0

**ğŸ”„ ×¡×˜×˜×•×¡:** ××•×›×Ÿ ×œ×¤×™×ª×•×—

---

*Leads Platform | Connecting AI Apps to Local Businesses*
